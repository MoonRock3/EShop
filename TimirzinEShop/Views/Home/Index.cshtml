@using TimirzinEShop.DB_Context
@model List<ProductView>
@{
    ViewData["Title"] = "Home Page";
}
<div class="row botMargin">
    @foreach (var item in Model)
    {
        <div class="col-sm-3">
            <div class="card item" id="@item.Id">
                <div class="imgBlock">
                    <img class="cardImg" src="@item.Image">
                </div>
                <div class="row">
                    <div class="col-sm-6 zeroPad">Артикул:</div><div class="col-sm-6 text-right zeroPad"><small>@item.Id</small></div>
                    <div class="col-sm-5 zeroPad">Категория:</div><div class="col-sm-7 text-right zeroPad"><small>@item.CategoryName</small></div>
                    <div class="col-sm-6 zeroPad">Бренд:</div><div class="col-sm-6 text-right zeroPad"><small>@item.Brand</small></div>
                    <div class="col-sm-6 zeroPad">Страна:</div><div class="col-sm-6 text-right zeroPad"><small>@item.Country</small></div>
                    <div class="col-sm-6 zeroPad">Модель:</div><div class="col-sm-6 text-right zeroPad"><small>@item.Model</small></div>
                    <div class="col-sm-6 zeroPad">Цена:</div><div class="col-sm-6 text-right zeroPad"><small>@item.Price руб.</small></div>
                    <div class="col-sm-12 buyBlock">
                        <button class="btn-dark shadow buy" data-id="@item.Id">КУПИТЬ</button>
                    </div>
                </div>
            </div>
        </div>
    }
</div>
<style>
    p{
        margin-bottom: 2px;
    }
    .buyBlock{
        padding: 12px;
        display: flex;
        justify-content: center;
    }
    .item{
        height: 430px;
        padding: 30px;
        margin: 10px;
    }
    .imgBlock{
        height: 200px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 20px;
    }
    .cardImg{
        max-height: 175px;
        max-width: 100%;
    }
    .zeroPad{
        padding: 0px;
    }
    .botMargin{
        margin-bottom: 50px;
    }
</style>
<script>
    var cards = document.querySelectorAll(".item");
    cards.forEach(x => {
        x.addEventListener(
            "click", e => {
                if (e.target.classList.contains("buy"))
                {
                    window.location.href = "/Cart/Add?id=" + e.target.dataset.id;
                }
                else
                {
                    window.location.href = "/Home/DetailedProduct?id=" + x.id;
                }
            }
        );
        x.style.cursor = "pointer";
    });
</script>